<div class="container">
    <div class="row">
      <div class="col-lg-8">
  
        @if(isUpdate){
          <h1 class="mt-5">Editar producto</h1> 
      } @else {
          <h1 class="mt-5">Crear nuevo producto</h1>
      }

      @if (showConfirmMessage) {
        <ngb-alert type="success" [dismissible]="false" class="text-center" style="min-height:100px">
         Se ha guardado el producto correctamente.
         <br>
         ¡Gracias!
        </ngb-alert>
        <button class="w-100 btn btn-purple btn-lg px-4" routerLink="/products">Volver a productos</button>
        
      } @else {
        <form [formGroup]="productForm" (submit)="save()">
  
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="id" formControlName="id" readonly>
            <label for="id">Id</label>
          </div>
  
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="title" formControlName="title"
            placeholder="">
            <label for="title">Nombre del producto</label>
          </div>
  
  
          <div class="form-floating mb-3">
            <input type="number" min="0" step="0.01"
            class="form-control" id="price" formControlName="price"
            placeholder="">
            <label for="price">Precio (€)</label>
          </div>
  
  
          <input type="hidden" formControlName="photoUrl">

          <div class="input-group mb-3">
            <label class="input-group-text" for="photoUrl">Subir foto</label>
            <input type="file" class="form-control" id="photoUrl" (change)="onFileChange($event)">
          </div>
  
  
          <div class="form-floating mb-3">
            <textarea type="text" class="form-control" id="description" formControlName="description"
            placeholder="Texto largo" rows="4" cols="50">
          </textarea>
            <label for="description">Descripción</label>
          </div>
  
  
          <button class="w-100 btn btn-purple btn-lg" type="submit">Guardar</button>
  
  
        </form>
      }
  
      </div>
      <div class="col-lg-4">
  
        @if(photoPreview) {
          <h3 class="my-5">Previsualización de foto</h3>
          <img class="img-fluid" [src]="photoPreview">
        }
        @if (!photoPreview && product?.photoUrl) {
          <h3 class="my-5">Previsualización de foto</h3>
          <img class="img-fluid" [src]="'http://localhost:3000/uploads/' + product?.photoUrl">
        }
      
      </div>
    </div>
  </div>

  
